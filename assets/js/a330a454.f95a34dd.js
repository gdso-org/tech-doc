"use strict";(self.webpackChunktech_doc=self.webpackChunktech_doc||[]).push([[684],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=n.createContext({}),u=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),l=u(r),g=i,f=l["".concat(p,".").concat(g)]||l[g]||d[g]||o;return r?n.createElement(f,a(a({ref:t},c),{},{components:r})):n.createElement(f,a({ref:t},c))}));function f(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=g;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[l]="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},2983:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=r(7462),i=(r(7294),r(3905));const o={sidebar_position:3},a="3.3 Get data from a list of UII",s={unversionedId:"getting-started/api-request/get-tire-by-batch",id:"getting-started/api-request/get-tire-by-batch",title:"3.3 Get data from a list of UII",description:"For a logistics application wanting to retrieve data associated to the content of a delivery (1000 tires), using the GetTireBySgtin endpoint will require 1000 requests.",source:"@site/docs/getting-started/api-request/get-tire-by-batch.md",sourceDirName:"getting-started/api-request",slug:"/getting-started/api-request/get-tire-by-batch",permalink:"/tech-doc/docs/getting-started/api-request/get-tire-by-batch",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/api-request/get-tire-by-batch.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"3.2 Get data from one UII",permalink:"/tech-doc/docs/getting-started/api-request/get-tire-by-sgtin"},next:{title:"Tire Manufacturer Guidelines",permalink:"/tech-doc/docs/getting-started/tm-guide"}},p={},u=[{value:"3.3.1 Guidelines to manage the resolution for a list of UIIs",id:"331-guidelines-to-manage-the-resolution-for-a-list-of-uiis",level:2}],c={toc:u},l="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(l,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"33-get-data-from-a-list-of-uii"},"3.3 Get data from a list of UII"),(0,i.kt)("p",null,"For a logistics application wanting to retrieve data associated to the content of a delivery (1000 tires), using the GetTireBySgtin endpoint will require 1000 requests.\nTo dicrease the number of requests, we have standardized a new endpoint allowing request by 100 tires maximum."),(0,i.kt)("h2",{id:"331-guidelines-to-manage-the-resolution-for-a-list-of-uiis"},"3.3.1 Guidelines to manage the resolution for a list of UIIs"),(0,i.kt)("p",null,"When you have a list of UIIs, you could have different brands, different company prefixes so potentially different URL endpoints to call."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"To facilitate the resolution of all possible URLs, we purpose to sort the list of UIIs by grouping by Company Prefix and make the resolution (as described in ",(0,i.kt)("a",{parentName:"p",href:"/tech-doc/docs/getting-started/ons-resolution"},"1. ONS Resolution")," for the first UII of each Company Prefix group. Then use the URL retrieved for each group for all UIIs of the group.")),(0,i.kt)("p",null,"To illustrate this behaviour, take this list for example :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"- urn:epc:id:sgtin:12345678.04444.2222222\n- urn:epc:id:sgtin:12345678.07777.123456\n- urn:epc:id:sgtin:87654321.01111.10101010\n- urn:epc:id:sgtin:87654321.02222.2468\n")),(0,i.kt)("p",null,"We group by Company Prefix"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'- "12345678"\n    * urn:epc:id:sgtin:12345678.04444.2222222\n    * urn:epc:id:sgtin:12345678.07777.123456\n- "87654321"\n    * urn:epc:id:sgtin:87654321.01111.10101010\n    * urn:epc:id:sgtin:87654321.02222.2468\n')),(0,i.kt)("p",null,"As described in ",(0,i.kt)("a",{parentName:"p",href:"/tech-doc/docs/getting-started/ons-resolution"},"1. ONS Resolution"),", we request the resolver to obtain the URL of ",(0,i.kt)("strong",{parentName:"p"},"GetTireByBatch")," endpoint for each group by resolving one of the UII of each group. This URL could be used for each UII of the group."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'- "12345678"\n    * urn:epc:id:sgtin:12345678.04444.2222222\n    * urn:epc:id:sgtin:12345678.07777.123456\n- "87654321"\n    * urn:epc:id:sgtin:87654321.01111.10101010\n    * urn:epc:id:sgtin:87654321.02222.2468\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'- "12345678" --\x3e "https://example.com/tire"\n    * urn:epc:id:sgtin:12345678.04444.2222222\n    * urn:epc:id:sgtin:12345678.07777.123456\n- "87654321" --\x3e "https://example2.org/tires"\n    * urn:epc:id:sgtin:87654321.01111.10101010\n    * urn:epc:id:sgtin:87654321.02222.2468\n')),(0,i.kt)("h1",{id:"332-request"},"3.3.2 Request"),(0,i.kt)("p",null,"Following API specificiation with version > 2.X.X, a POST request is available (with a limit of 100 UIIs per call)"),(0,i.kt)("p",null,"Based on the previous example, 2 POST requests are required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'POST "https://example.com/tire"\n[\n    "urn:epc:id:sgtin:12345678.04444.2222222",\n    "urn:epc:id:sgtin:12345678.07777.123456"\n]\n\nPOST "https://example2.org/tires"\n[\n    "urn:epc:id:sgtin:87654321.01111.10101010",\n    "urn:epc:id:sgtin:87654321.02222.2468"\n]\n')))}d.isMDXComponent=!0}}]);